# 4

[TOC]

## 题目

[Leetcode第4题](https://leetcode.com/problems/median-of-two-sorted-arrays/)

用不超过O(log(m+n))的时间复杂度，求两个有序列表的中位数。

## 中位数

### 单个有序数组中的中位数

在一个有序数组中，中位数是最中间位置的数。也就是说，数组中比中位数小的数字与比中位数大的数字数量相等。

>   *   数组 [1, 2, 3] 的中位数是 2
>   *   数组[1, 2, 3, 4]的中位数是 (2+3) / 2 = 2.5

中位数是在有序数组中计算的，那么如何计算两个有序数组中的中位数？

>   设两个有序数组A=[1, 3, 5], B=[2, 4, 6]，则它们的中位数等于数组[1, 2, 3, 4, 5, 6]的中位数，
>
>   即(3 + 4) / 2 = 3.5

我们可以通过合并数组的方式得到答案，不过这样的时间复杂度为O(m+n)，不符合题目中O(log(n+m))的要求。

##两个有序数组的中位数

设A, B为两个有序数组，长度分别为n, m (n <= m)，我们可以在两个数组上分别指定一个位置，表示两个数组的中位数。

```
      left_A             |        right_A
A[0], A[1], ..., A[i-1]  |  A[i], A[i+1], ..., A[m-1]
```

```
      left_B             |        right_B
B[0], B[1], ..., B[j-1]  |  B[j], B[j+1], ..., B[n-1]
```

```
      left_part          |        right_part
A[0], A[1], ..., A[i-1]  |  A[i], A[i+1], ..., A[m-1]
B[0], B[1], ..., B[j-1]  |  B[j], B[j+1], ..., B[n-1]
```

需满足关系：

left_part = right_part: i + j = n - i + m - j

A[i-1] <= B[j] && B[j-1] < A[i]